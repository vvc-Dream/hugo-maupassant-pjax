{{ define "content"}}
<div class="res-cons" id="pjax-content">
    {{ if eq .Data.Singular "category" }}
    <h3 class="archive-title">
        分类
        <span class="keyword">{{ .Data.Term }}</span>
        中的文章
    </h3>
    {{ else if eq .Data.Singular "tag" }}
    <h3 class="archive-title">
        包含标签
        <span class="keyword">{{ .Data.Term }}</span>
        的文章
    </h3>
    {{ end }}

    {{ range $index,$data := .Paginator.Pages }}
	
	<article class="post">
        <header>
            <h1 class="post-title">
                <a href="{{ .Permalink }}" title="{{ .Title }}" onclick="pjax_οnclickA(this);">{{ .Title }}</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            {{ .Date.Year }}年{{ printf "%d" .Date.Month }}月{{ .Date.Day }}日
        </date>
        {{ with .Params.Categories }}
        <div class="post-meta">
            <span>|</span>
            {{ range . }}
            <span class="meta-category"><a href='{{ "/categories/" | absLangURL }}{{ . | urlize }}' onclick="pjax_οnclickA(this);">{{ . }}</a></span>
            {{ end }}
        </div>
        {{ end }}
        <div class="post-content">
            {{ .Summary }}……
        </div>
        <p class="readmore"><a href="{{ .Permalink }}" onclick="pjax_οnclickA(this);">阅读全文</a></p>
    </article>
<script>
function pjax_οnclickA(vvc){
	$.ajax({
            type:'GET',
            url:vvc.href,
            success:function(data){
				$('#pjax-content').html('');
				var _content = $(data).find("#pjax-content").html();
            	$('#pjax-content').html(_content);
            }
              	});
	vvc.href = "#";
    window.history.pushState({url:vvc.href},null,vvc.href);
}
</script>	
    {{ end }}
    {{ partial "paginator" . }}
</div>
{{ end }}